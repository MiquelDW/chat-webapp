generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id                               String    @id @default(cuid())
  email                            String    @unique
  createdAt                        DateTime  @default(now())
  updatedAt                        DateTime
  imageUrl                         String
  username                         String    @unique
  Request_Request_receiverIdToUser Request[] @relation("Request_receiverIdToUser")
  Request_Request_senderIdToUser   Request[] @relation("Request_senderIdToUser")
}

model Message {
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
  senderSocketId String?
  id             Int      @id @default(autoincrement())
  content        String?
}

model Request {
  id                            String   @id @default(cuid())
  createdAt                     DateTime @default(now())
  senderId                      String
  receiverId                    String
  User_Request_receiverIdToUser User     @relation("Request_receiverIdToUser", fields: [receiverId], references: [id], onDelete: Cascade)
  User_Request_senderIdToUser   User     @relation("Request_senderIdToUser", fields: [senderId], references: [id], onDelete: Cascade)

  @@unique([senderId, receiverId])
}
